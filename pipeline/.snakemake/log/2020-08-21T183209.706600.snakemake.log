Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cluster nodes: 12
Job counts:
	count	jobs
	1	annotANNOVAR
	1	annotINTERVAR
	2	bgzip
	1	extractGNOMAD
	1	extractGNOMADVEP
	1	filtration_freq_and_genes
	1	gunzipCADD
	1	merge_fields
	1	scoreCADD
	2	tabix
	1	target
	13

[Fri Aug 21 18:32:11 2020]
rule filtration_freq_and_genes:
    input: VCF/hapcaller.recal.combined.annot.gnomad.vep.vcf.gz, VCF/hapcaller.recal.combined.annot.gnomad.vep.vcf.gz.tbi
    output: VCF/hapcaller.recal.combined.annot.gnomad.vep.filtered.vcf
    jobid: 31
    reason: Missing output files: VCF/hapcaller.recal.combined.annot.gnomad.vep.filtered.vcf

filter_vep.pl 			-i VCF/hapcaller.recal.combined.annot.gnomad.vep.vcf.gz 			-o VCF/hapcaller.recal.combined.annot.gnomad.vep.filtered.vcf 			-filter '(Gene in ENSG00000121904,ENSG00000198883,ENSG00000156500) and (GMAF < 0.05 or not GMAF)'
Submitted job 31 with external jobid 'Your job 4089913 ("snakejob.filtration_freq_and_genes.31.sh") has been submitted'.
Write-protecting output file VCF/hapcaller.recal.combined.annot.gnomad.vep.filtered.vcf.
[Fri Aug 21 18:32:21 2020]
Finished job 31.
1 of 13 steps (8%) done

[Fri Aug 21 18:32:21 2020]
rule bgzip:
    input: VCF/hapcaller.recal.combined.annot.gnomad.vep.filtered.vcf
    output: VCF/hapcaller.recal.combined.annot.gnomad.vep.filtered.vcf.gz
    jobid: 23
    reason: Missing output files: VCF/hapcaller.recal.combined.annot.gnomad.vep.filtered.vcf.gz; Input files updated by another job: VCF/hapcaller.recal.combined.annot.gnomad.vep.filtered.vcf
    wildcards: base=VCF/hapcaller.recal.combined.annot.gnomad.vep.filtered

bgzip -f VCF/hapcaller.recal.combined.annot.gnomad.vep.filtered.vcf
Submitted job 23 with external jobid 'Your job 4089915 ("snakejob.bgzip.23.sh") has been submitted'.
[Fri Aug 21 18:32:41 2020]
Finished job 23.
2 of 13 steps (15%) done

[Fri Aug 21 18:32:41 2020]
rule extractGNOMAD:
    input: /sandbox/users/mguillout/pipeline/REFERENCES/human_g1k_v37.fasta, VCF/hapcaller.recal.combined.annot.gnomad.vep.filtered.vcf.gz
    output: CSV/gnomad_freq.tsv
    jobid: 25
    reason: Input files updated by another job: VCF/hapcaller.recal.combined.annot.gnomad.vep.filtered.vcf.gz

gatk -T VariantsToTable 		-R /sandbox/users/mguillout/pipeline/REFERENCES/human_g1k_v37.fasta 		-V VCF/hapcaller.recal.combined.annot.gnomad.vep.filtered.vcf.gz 		-o CSV/gnomad_freq.tsv 		-F CHROM 		-F POS 		-F REF 		-F ALT 		-F END 		-F ID 		-F DP 		--allowMissingData 		-F gnomad.AF_AFR 		-F gnomad.AF_ASJ 		-F gnomad.AF_AMR 		-F gnomad.AF_EAS 		-F gnomad.AF_FIN 		-F gnomad.AF_NFE 		-F gnomad.AF_OTH 		-F gnomad.AF_SAS 
Submitted job 25 with external jobid 'Your job 4089916 ("snakejob.extractGNOMAD.25.sh") has been submitted'.

[Fri Aug 21 18:32:41 2020]
rule tabix:
    input: VCF/hapcaller.recal.combined.annot.gnomad.vep.filtered.vcf.gz
    output: VCF/hapcaller.recal.combined.annot.gnomad.vep.filtered.vcf.gz.tbi
    jobid: 24
    reason: Missing output files: VCF/hapcaller.recal.combined.annot.gnomad.vep.filtered.vcf.gz.tbi; Input files updated by another job: VCF/hapcaller.recal.combined.annot.gnomad.vep.filtered.vcf.gz
    wildcards: base=VCF/hapcaller.recal.combined.annot.gnomad.vep.filtered.vcf.gz

tabix -f -p vcf VCF/hapcaller.recal.combined.annot.gnomad.vep.filtered.vcf.gz
Submitted job 24 with external jobid 'Your job 4089917 ("snakejob.tabix.24.sh") has been submitted'.

[Fri Aug 21 18:32:41 2020]
rule scoreCADD:
    input: VCF/hapcaller.recal.combined.annot.gnomad.vep.filtered.vcf.gz, /sandbox/users/mguillout/tools/CADD-scripts/CADD.sh
    output: CSV/cadd.tsv.gz
    jobid: 26
    reason: Missing output files: CSV/cadd.tsv.gz; Input files updated by another job: VCF/hapcaller.recal.combined.annot.gnomad.vep.filtered.vcf.gz

 /sandbox/users/mguillout/tools/CADD-scripts/CADD.sh 		-o CSV/cadd.tsv.gz 		-a 		-g GRCh37 		-v v1.6 VCF/hapcaller.recal.combined.annot.gnomad.vep.filtered.vcf.gz
Submitted job 26 with external jobid 'Your job 4089918 ("snakejob.scoreCADD.26.sh") has been submitted'.
[Fri Aug 21 18:32:51 2020]
Finished job 24.
3 of 13 steps (23%) done

[Fri Aug 21 18:32:51 2020]
rule annotANNOVAR:
    input: VCF/hapcaller.recal.combined.annot.gnomad.vep.filtered.vcf.gz, VCF/hapcaller.recal.combined.annot.gnomad.vep.filtered.vcf.gz.tbi, /sandbox/users/mguillout/tools/annovar, /sandbox/users/mguillout/tools/annovar/humandb
    output: VCF/hapcaller.recal.combined.annot.gnomad.vep.filtered.annovar.vcf.hg19_multianno.vcf, VCF/hapcaller.recal.combined.annot.gnomad.vep.filtered.annovar.vcf.avinput, VCF/hapcaller.recal.combined.annot.gnomad.vep.filtered.annovar.vcf.hg19_multianno.txt
    jobid: 10
    reason: Missing output files: VCF/hapcaller.recal.combined.annot.gnomad.vep.filtered.annovar.vcf.hg19_multianno.vcf, VCF/hapcaller.recal.combined.annot.gnomad.vep.filtered.annovar.vcf.avinput, VCF/hapcaller.recal.combined.annot.gnomad.vep.filtered.annovar.vcf.hg19_multianno.txt; Input files updated by another job: VCF/hapcaller.recal.combined.annot.gnomad.vep.filtered.vcf.gz.tbi, VCF/hapcaller.recal.combined.annot.gnomad.vep.filtered.vcf.gz

perl /sandbox/users/mguillout/tools/annovar/table_annovar.pl VCF/hapcaller.recal.combined.annot.gnomad.vep.filtered.vcf.gz  		/sandbox/users/mguillout/tools/annovar/humandb		-buildver hg19 		-out VCF/hapcaller.recal.combined.annot.gnomad.vep.filtered.annovar.vcf 		-remove 		-protocol refGene,knownGene,cytoBand,dgvMerged,gwasCatalog,dbnsfp35a,gnomad211_exome,clinvar_20190305 		-operation gx,g,r,r,r,f,f,f 		-nastring . 		-polish 		-otherinfo 		-xref /sandbox/users/mguillout/tools/annovar/humandb/hg19_refGene.txt 		-vcfinput
Submitted job 10 with external jobid 'Your job 4089919 ("snakejob.annotANNOVAR.10.sh") has been submitted'.
Write-protecting output file CSV/gnomad_freq.tsv.
[Fri Aug 21 18:33:01 2020]
Finished job 25.
4 of 13 steps (31%) done

[Fri Aug 21 18:33:01 2020]
rule extractGNOMADVEP:
    input: VCF/hapcaller.recal.combined.annot.gnomad.vep.filtered.vcf.gz, CSV/gnomad_freq.tsv
    output: CSV/gnomad_vep.tsv
    jobid: 12
    reason: Input files updated by another job: CSV/gnomad_freq.tsv, VCF/hapcaller.recal.combined.annot.gnomad.vep.filtered.vcf.gz

vep-annotation-reporter  VCF/hapcaller.recal.combined.annot.gnomad.vep.filtered.vcf.gz 	Feature HGVSc HGVSp Protein_position Amino_acids Codons CLIN_SIG PUBMED 		-t CSV/gnomad_freq.tsv 		-o CSV/gnomad_vep.tsv 		
Submitted job 12 with external jobid 'Your job 4089920 ("snakejob.extractGNOMADVEP.12.sh") has been submitted'.
[Fri Aug 21 18:33:21 2020]
Finished job 12.
5 of 13 steps (38%) done
Write-protecting output file VCF/hapcaller.recal.combined.annot.gnomad.vep.filtered.annovar.vcf.hg19_multianno.vcf.
[Fri Aug 21 18:33:31 2020]
Finished job 10.
6 of 13 steps (46%) done

[Fri Aug 21 18:33:31 2020]
rule annotINTERVAR:
    input: VCF/hapcaller.recal.combined.annot.gnomad.vep.filtered.annovar.vcf.avinput, /sandbox/users/mguillout/tools/annovar, /sandbox/users/mguillout/tools/annovar/humandb, /sandbox/users/mguillout/tools/InterVar-master
    output: CSV/res_intervar.hg19_multianno.txt.intervar
    jobid: 11
    reason: Input files updated by another job: VCF/hapcaller.recal.combined.annot.gnomad.vep.filtered.annovar.vcf.avinput

python /sandbox/users/mguillout/tools/InterVar-master/Intervar.py 		-i VCF/hapcaller.recal.combined.annot.gnomad.vep.filtered.annovar.vcf.avinput 		-o CSV/res_intervar 		--buildver hg19 		--input_type AVinput 		--database_intervar /sandbox/users/mguillout/tools/InterVar-master/intervardb 		--config=/sandbox/users/mguillout/tools/InterVar-master/config.ini 		--convert2annovar /sandbox/users/mguillout/tools/annovar/convert2annovar.pl 		--table_annovar /sandbox/users/mguillout/tools/annovar/table_annovar.pl 		--annotate_variation /sandbox/users/mguillout/tools/annovar/annotate_variation.pl 		--database_locat /sandbox/users/mguillout/tools/annovar/humandb
Submitted job 11 with external jobid 'Your job 4089921 ("snakejob.annotINTERVAR.11.sh") has been submitted'.

[Fri Aug 21 18:33:32 2020]
rule bgzip:
    input: VCF/hapcaller.recal.combined.annot.gnomad.vep.filtered.annovar.vcf.hg19_multianno.vcf
    output: VCF/hapcaller.recal.combined.annot.gnomad.vep.filtered.annovar.vcf.hg19_multianno.vcf.gz
    jobid: 1
    reason: Missing output files: VCF/hapcaller.recal.combined.annot.gnomad.vep.filtered.annovar.vcf.hg19_multianno.vcf.gz; Input files updated by another job: VCF/hapcaller.recal.combined.annot.gnomad.vep.filtered.annovar.vcf.hg19_multianno.vcf
    wildcards: base=VCF/hapcaller.recal.combined.annot.gnomad.vep.filtered.annovar.vcf.hg19_multianno

bgzip -f VCF/hapcaller.recal.combined.annot.gnomad.vep.filtered.annovar.vcf.hg19_multianno.vcf
Submitted job 1 with external jobid 'Your job 4089922 ("snakejob.bgzip.1.sh") has been submitted'.
[Fri Aug 21 18:33:51 2020]
Finished job 1.
7 of 13 steps (54%) done

[Fri Aug 21 18:33:51 2020]
rule tabix:
    input: VCF/hapcaller.recal.combined.annot.gnomad.vep.filtered.annovar.vcf.hg19_multianno.vcf.gz
    output: VCF/hapcaller.recal.combined.annot.gnomad.vep.filtered.annovar.vcf.hg19_multianno.vcf.gz.tbi
    jobid: 2
    reason: Missing output files: VCF/hapcaller.recal.combined.annot.gnomad.vep.filtered.annovar.vcf.hg19_multianno.vcf.gz.tbi; Input files updated by another job: VCF/hapcaller.recal.combined.annot.gnomad.vep.filtered.annovar.vcf.hg19_multianno.vcf.gz
    wildcards: base=VCF/hapcaller.recal.combined.annot.gnomad.vep.filtered.annovar.vcf.hg19_multianno.vcf.gz

tabix -f -p vcf VCF/hapcaller.recal.combined.annot.gnomad.vep.filtered.annovar.vcf.hg19_multianno.vcf.gz
Submitted job 2 with external jobid 'Your job 4089924 ("snakejob.tabix.2.sh") has been submitted'.
[Fri Aug 21 18:34:12 2020]
Finished job 26.
8 of 13 steps (62%) done

[Fri Aug 21 18:34:12 2020]
rule gunzipCADD:
    input: CSV/cadd.tsv.gz
    output: CSV/cadd.tsv
    jobid: 13
    reason: Input files updated by another job: CSV/cadd.tsv.gz

gunzip CSV/cadd.tsv.gz ;  sed 1d CSV/cadd.tsv -i
[Fri Aug 21 18:34:12 2020]
Finished job 2.
9 of 13 steps (69%) done
Submitted job 13 with external jobid 'Your job 4089925 ("snakejob.gunzipCADD.13.sh") has been submitted'.
[Fri Aug 21 18:34:22 2020]
Finished job 13.
10 of 13 steps (77%) done
[Fri Aug 21 18:36:56 2020]
Finished job 11.
11 of 13 steps (85%) done

[Fri Aug 21 18:36:56 2020]
rule merge_fields:
    input: VCF/hapcaller.recal.combined.annot.gnomad.vep.filtered.annovar.vcf.hg19_multianno.txt, CSV/res_intervar.hg19_multianno.txt.intervar, CSV/gnomad_vep.tsv, CSV/cadd.tsv
    output: CSV/main_results.tsv
    jobid: 3
    reason: Input files updated by another job: CSV/res_intervar.hg19_multianno.txt.intervar, VCF/hapcaller.recal.combined.annot.gnomad.vep.filtered.annovar.vcf.hg19_multianno.txt, CSV/gnomad_vep.tsv, CSV/cadd.tsv

Submitted job 3 with external jobid 'Your job 4089929 ("snakejob.merge_fields.3.sh") has been submitted'.
[Fri Aug 21 18:37:06 2020]
Error in rule merge_fields:
    jobid: 3
    output: CSV/main_results.tsv
    cluster_jobid: Your job 4089929 ("snakejob.merge_fields.3.sh") has been submitted

Error executing rule merge_fields on cluster (jobid: 3, external: Your job 4089929 ("snakejob.merge_fields.3.sh") has been submitted, jobscript: /sandbox/shares/nextcloud/mguillout/files/Application/pipeline/testVB_33/.snakemake/tmp.eileyqqp/snakejob.merge_fields.3.sh). For error details see the cluster log and the log files of the involved rule(s).
Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
Complete log: /sandbox/shares/nextcloud/mguillout/files/Application/pipeline/.snakemake/log/2020-08-21T183209.706600.snakemake.log
